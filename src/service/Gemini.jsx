import { GoogleGenerativeAI } from "@google/generative-ai";


const apiKey = import.meta.env.VITE_APP_GOOGLE_GEMINI_API_KEY
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-1.5-pro",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};

export const chatSession = model.startChat({
    generationConfig,
    // safetySettings: Adjust safety settings
    // See https://ai.google.dev/gemini-api/docs/safety-settings
    history: [
        {
            role: "user",
            parts: [
                { text: "I am planning a trip with the following preferences and need detailed information to help with the planning. Below are the preferences:\n\nDestinations:\nDestination 1: Istanbul, Türkiye, from July 19, 2024, to July 22, 2024.\nDestination 2: Ankara, Türkiye, from July 22, 2024, to July 25, 2024.\n\nNumber of People: 2\n\nBudget: Mid-Range ($50 - $150 per day). This budget should cover comfortable options with a balance of cost and amenities.\n\nTravel Companions: Traveling with friends for a fun and social experience.\n\nAccommodations: Preference for standard hotel rooms with various amenities or affordable shared or private hostel rooms, often with communal spaces.\n\nTransportations: Preferred modes include air travel for long-distance journeys, driving by car for flexible travel, and affordable and convenient bus travel.\n\nActivities: Interest in sightseeing, adventure, relaxation, nature & wildlife, cultural experiences, and food & drink.\n\nMeals: Preference for various meals, including breakfast, lunch, dinner, and dessert.\n\nPlease provide a comprehensive plan for the trip, including a plan for each day with the hours and durations mentioned. include the following:\n\nAccommodations: For each destination, list available preferred accommodation options, including the name, address, image URL, rating, and price per night. Include details on the duration of your stay. Can you provide a link to the reservation using booking.com or any other app?\n\nTransportation: Provide information on transportation options between destinations, places, and activities, including prices and duration. Include options like planes, cars, and buses. Also, provide the direct link for buying tickets if possible.\n\nActivities: Suggest activities for each destination based on the preferences provided. Include the name of the activity, description, location, and price of the activities. Also, suggest the order in which these activities should be scheduled to make the most of the trip.\n\nMeals & Restaurants: For each destination, list recommended restaurants along with the type of cuisine, address, price range, and rating. Include details about breakfast, lunch, dinner, and dessert options.\n\nAdditional Recommendations: Include recommendations for places to see, local experiences, or must-do activities.\n\nThe response should be formatted as a JSON object and include all relevant details to ensure a well-planned trip.\n" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"trip_plan\": {\n    \"destinations\": [\n      {\n        \"destination\": \"Istanbul, Türkiye\",\n        \"dates\": \"July 19, 2024 - July 22, 2024\",\n        \"days\": [\n          {\n            \"day\": \"July 19, 2024 (Day 1)\",\n            \"activities\": [\n              {\n                \"name\": \"Arrival at Istanbul Airport (IST)\",\n                \"description\": \"Arrive at Istanbul Airport (IST) and take a taxi or airport shuttle to your hotel.\",\n                \"location\": \"Istanbul Airport (IST), Turkey\",\n                \"price\": \"Taxi: $20 - $30, Airport Shuttle: $10 - $15\",\n                \"duration\": \"1 hour\"\n              },\n              {\n                \"name\": \"Check-in at Hotel\",\n                \"description\": \"Check into your hotel and relax.\",\n                \"location\": \"Hotel, Istanbul\",\n                \"price\": \"See Accommodation section\",\n                \"duration\": \"1 hour\"\n              },\n              {\n                \"name\": \"Dinner at a Turkish Restaurant\",\n                \"description\": \"Enjoy a traditional Turkish dinner at a local restaurant.\",\n                \"location\": \"Restaurant, Istanbul\",\n                \"price\": \"$10 - $20 per person\",\n                \"duration\": \"2 hours\"\n              }\n            ]\n          },\n          {\n            \"day\": \"July 20, 2024 (Day 2)\",\n            \"activities\": [\n              {\n                \"name\": \"Hagia Sophia\",\n                \"description\": \"Visit the iconic Hagia Sophia, a former church and mosque now a museum.\",\n                \"location\": \"Ayasofya Meydanı, 34122 Fatih/İstanbul, Turkey\",\n                \"price\": \"$20 per person\",\n                \"duration\": \"2 hours\"\n              },\n              {\n                \"name\": \"Blue Mosque\",\n                \"description\": \"Explore the beautiful Blue Mosque, known for its stunning interior.\",\n                \"location\": \"Sultanahmet Mahallesi, At Meydanı No:7, 34122 Fatih/İstanbul, Turkey\",\n                \"price\": \"Free\",\n                \"duration\": \"1 hour\"\n              },\n              {\n                \"name\": \"Topkapi Palace\",\n                \"description\": \"Visit the Topkapi Palace, the former residence of the Ottoman sultans.\",\n                \"location\": \"Cankurtaran, 34122 Fatih/İstanbul, Turkey\",\n                \"price\": \"$25 per person\",\n                \"duration\": \"3 hours\"\n              },\n              {\n                \"name\": \"Turkish Bath Experience\",\n                \"description\": \"Experience a traditional Turkish bath, known as a hammam.\",\n                \"location\": \"Various locations in Istanbul\",\n                \"price\": \"$20 - $30 per person\",\n                \"duration\": \"2 hours\"\n              },\n              {\n                \"name\": \"Dinner at a Rooftop Restaurant\",\n                \"description\": \"Enjoy dinner at a rooftop restaurant with stunning views of the city.\",\n                \"location\": \"Rooftop Restaurant, Istanbul\",\n                \"price\": \"$20 - $30 per person\",\n                \"duration\": \"2 hours\"\n              }\n            ]\n          },\n          {\n            \"day\": \"July 21, 2024 (Day 3)\",\n            \"activities\": [\n              {\n                \"name\": \"Grand Bazaar\",\n                \"description\": \"Explore the bustling Grand Bazaar, one of the oldest and largest covered markets in the world.\",\n                \"location\": \"Beyazıt, Mercan, 34126 Fatih/İstanbul, Turkey\",\n                \"price\": \"Free\",\n                \"duration\": \"3 hours\"\n              },\n              {\n                \"name\": \"Spice Market\",\n                \"description\": \"Visit the Spice Market, a vibrant market filled with spices, herbs, and dried fruits.\",\n                \"location\": \"Eminönü, Rüstem Paşa Mahallesi, 34116 Fatih/İstanbul, Turkey\",\n                \"price\": \"Free\",\n                \"duration\": \"2 hours\"\n              },\n              {\n                \"name\": \"Bosphorus Cruise\",\n                \"description\": \"Take a scenic cruise along the Bosphorus Strait.\",\n                \"location\": \"Various locations in Istanbul\",\n                \"price\": \"$20 - $30 per person\",\n                \"duration\": \"2 hours\"\n              },\n              {\n                \"name\": \"Dinner at a Fish Restaurant by the Sea\",\n                \"description\": \"Enjoy fresh seafood at a restaurant by the sea.\",\n                \"location\": \"Restaurant by the Sea, Istanbul\",\n                \"price\": \"$20 - $30 per person\",\n                \"duration\": \"2 hours\"\n              }\n            ]\n          },\n          {\n            \"day\": \"July 22, 2024 (Day 4)\",\n            \"activities\": [\n              {\n                \"name\": \"Check out of Hotel\",\n                \"description\": \"Check out of your hotel.\",\n                \"location\": \"Hotel, Istanbul\",\n                \"price\": \"See Accommodation section\",\n                \"duration\": \"1 hour\"\n              },\n              {\n                \"name\": \"Travel to Ankara by High-Speed Train\",\n                \"description\": \"Take a high-speed train from Istanbul to Ankara.\",\n                \"location\": \"Istanbul Train Station, Ankara Train Station\",\n                \"price\": \"$30 - $50 per person\",\n                \"duration\": \"4 hours\"\n              },\n              {\n                \"name\": \"Check-in at Hotel\",\n                \"description\": \"Check into your hotel in Ankara.\",\n                \"location\": \"Hotel, Ankara\",\n                \"price\": \"See Accommodation section\",\n                \"duration\": \"1 hour\"\n              },\n              {\n                \"name\": \"Dinner at a Traditional Turkish Restaurant\",\n                \"description\": \"Enjoy a traditional Turkish dinner at a restaurant in Ankara.\",\n                \"location\": \"Restaurant, Ankara\",\n                \"price\": \"$10 - $20 per person\",\n                \"duration\": \"2 hours\"\n              }\n            ]\n          }\n        ],\n        \"accommodations\": [\n          {\n            \"name\": \"The Stay Istanbul\",\n            \"address\": \"İstiklal Cd. No: 192, 34433 Beyoğlu/İstanbul, Turkey\",\n            \"image_url\": \"https://cf.bstatic.com/xdata/images/hotel/max1024x768/394880011.jpg\",\n            \"rating\": 4.5,\n            \"price_per_night\": \"$50 - $80\",\n            \"duration\": \"3 nights\",\n            \"booking_link\": \"https://www.booking.com/hotel/tr/the-stay-istanbul.en-gb.html\"\n          },\n          {\n            \"name\": \"The House Hotel Galatasaray\",\n            \"address\": \"Tomtom Mahallesi, İstiklal Cd. No: 189, 34433 Beyoğlu/İstanbul, Turkey\",\n            \"image_url\": \"https://cf.bstatic.com/xdata/images/hotel/max1024x768/384297592.jpg\",\n            \"rating\": 4.0,\n            \"price_per_night\": \"$80 - $120\",\n            \"duration\": \"3 nights\",\n            \"booking_link\": \"https://www.booking.com/hotel/tr/the-house-hotel-galatasaray.en-gb.html\"\n          }\n        ],\n        \"restaurants\": [\n          {\n            \"name\": \"Hamdi Restaurant\",\n            \"cuisine\": \"Turkish\",\n            \"address\": \"Akbiyik Mahallesi, Hoca Ahmet Yesevi Cd. No: 19, 34118 Fatih/İstanbul, Turkey\",\n            \"price_range\": \"$10 - $20 per person\",\n            \"rating\": 4.5,\n            \"meal_types\": [\n              \"lunch\",\n              \"dinner\"\n            ]\n          },\n          {\n            \"name\": \"Balıkçı Sabahattin\",\n            \"cuisine\": \"Seafood\",\n            \"address\": \"Balıkçılar Cad. No: 39/A, 34433 Beyoğlu/İstanbul, Turkey\",\n            \"price_range\": \"$20 - $30 per person\",\n            \"rating\": 4.0,\n            \"meal_types\": [\n              \"dinner\"\n            ]\n          },\n          {\n            \"name\": \"Van Kahvaltı Salonu\",\n            \"cuisine\": \"Turkish Breakfast\",\n            \"address\": \"Kızıltoprak Mahallesi, Hoca Ahmet Yesevi Cd. No: 19/A, 34118 Fatih/İstanbul, Turkey\",\n            \"price_range\": \"$5 - $10 per person\",\n            \"rating\": 4.5,\n            \"meal_types\": [\n              \"breakfast\"\n            ]\n          }\n        ],\n        \"additional_recommendations\": [\n          \"Take a Turkish cooking class to learn how to make traditional dishes.\",\n          \"Visit the Süleymaniye Mosque, one of the most beautiful mosques in Istanbul.\",\n          \"Explore the Chora Church, known for its stunning Byzantine mosaics.\"\n        ]\n      },\n      {\n        \"destination\": \"Ankara, Türkiye\",\n        \"dates\": \"July 22, 2024 - July 25, 2024\",\n        \"days\": [\n          {\n            \"day\": \"July 22, 2024 (Day 4)\",\n            \"activities\": [\n              {\n                \"name\": \"Arrival at Ankara Train Station\",\n                \"description\": \"Arrive at Ankara Train Station and take a taxi or public transportation to your hotel.\",\n                \"location\": \"Ankara Train Station, Turkey\",\n                \"price\": \"Taxi: $10 - $20, Public Transportation: $1 - $2\",\n                \"duration\": \"30 minutes\"\n              },\n              {\n                \"name\": \"Check-in at Hotel\",\n                \"description\": \"Check into your hotel and relax.\",\n                \"location\": \"Hotel, Ankara\",\n                \"price\": \"See Accommodation section\",\n                \"duration\": \"1 hour\"\n              },\n              {\n                \"name\": \"Dinner at a Turkish Restaurant\",\n                \"description\": \"Enjoy a traditional Turkish dinner at a local restaurant.\",\n                \"location\": \"Restaurant, Ankara\",\n                \"price\": \"$10 - $20 per person\",\n                \"duration\": \"2 hours\"\n              }\n            ]\n          },\n          {\n            \"day\": \"July 23, 2024 (Day 5)\",\n            \"activities\": [\n              {\n                \"name\": \"Anıtkabir\",\n                \"description\": \"Visit Anıtkabir, the mausoleum of Mustafa Kemal Atatürk, the founder of modern Turkey.\",\n                \"location\": \"Anıtkabir, 06570, Çankaya/Ankara, Turkey\",\n                \"price\": \"Free\",\n                \"duration\": \"2 hours\"\n              },\n              {\n                \"name\": \"Museum of Anatolian Civilizations\",\n                \"description\": \"Explore the Museum of Anatolian Civilizations, showcasing artifacts from the ancient Anatolian civilizations.\",\n                \"location\": \"Sıhhıye Mahallesi, Anadolu Medeniyetleri Müzesi Sokak No:1, 06420, Çankaya/Ankara, Turkey\",\n                \"price\": \"$10 per person\",\n                \"duration\": \"2 hours\"\n              },\n              {\n                \"name\": \"Ankara Citadel\",\n                \"description\": \"Visit the Ankara Citadel, a historic fortress with stunning views of the city.\",\n                \"location\": \"Kale Mahallesi, Kale Caddesi, 06420, Çankaya/Ankara, Turkey\",\n                \"price\": \"Free\",\n                \"duration\": \"1 hour\"\n              },\n              {\n                \"name\": \"Dinner at a Restaurant with Live Music\",\n                \"description\": \"Enjoy dinner at a restaurant with live Turkish music.\",\n                \"location\": \"Restaurant, Ankara\",\n                \"price\": \"$15 - $25 per person\",\n                \"duration\": \"2 hours\"\n              }\n            ]\n          },\n          {\n            \"day\": \"July 24, 2024 (Day 6)\",\n            \"activities\": [\n              {\n                \"name\": \"Atakule Tower\",\n                \"description\": \"Ascend the Atakule Tower for panoramic views of Ankara.\",\n                \"location\": \"Küçükesat Mahallesi, Atakule Cd. No: 1, 06510, Çankaya/Ankara, Turkey\",\n                \"price\": \"$10 per person\",\n                \"duration\": \"2 hours\"\n              },\n              {\n                \"name\": \"Hacıbayram Mosque\",\n                \"description\": \"Visit the Hacıbayram Mosque, one of the oldest mosques in Ankara.\",\n                \"location\": \"Hacıbayram Mahallesi, Hacıbayram Cami Sk. No: 4, 06530, Altındağ/Ankara, Turkey\",\n                \"price\": \"Free\",\n                \"duration\": \"1 hour\"\n              },\n              {\n                \"name\": \"Shopping at the Tunalı Hilmi Street\",\n                \"description\": \"Explore the Tunalı Hilmi Street, a bustling shopping street with various boutiques, shops, and restaurants.\",\n                \"location\": \"Tunalı Hilmi Cd., 06420, Çankaya/Ankara, Turkey\",\n                \"price\": \"Free\",\n                \"duration\": \"2 hours\"\n              },\n              {\n                \"name\": \"Dinner at a Local Eatery\",\n                \"description\": \"Enjoy a casual dinner at a local eatery.\",\n                \"location\": \"Local Eatery, Ankara\",\n                \"price\": \"$5 - $15 per person\",\n                \"duration\": \"2 hours\"\n              }\n            ]\n          },\n          {\n            \"day\": \"July 25, 2024 (Day 7)\",\n            \"activities\": [\n              {\n                \"name\": \"Check out of Hotel\",\n                \"description\": \"Check out of your hotel.\",\n                \"location\": \"Hotel, Ankara\",\n                \"price\": \"See Accommodation section\",\n                \"duration\": \"1 hour\"\n              },\n              {\n                \"name\": \"Departure from Ankara\",\n                \"description\": \"Depart from Ankara Airport (ESB) or Ankara Train Station.\",\n                \"location\": \"Ankara Airport (ESB) or Ankara Train Station\",\n                \"price\": \"See Transportation section\",\n                \"duration\": \"1 hour\"\n              }\n            ]\n          }\n        ],\n        \"accommodations\": [\n          {\n            \"name\": \"Ankara Hotel\",\n            \"address\": \"Kızılay Mahallesi,  Gazi Mustafa Kemal Bulvarı No: 217, 06420, Çankaya/Ankara, Turkey\",\n            \"image_url\": \"https://cf.bstatic.com/xdata/images/hotel/max1024x768/391347776.jpg\",\n            \"rating\": 4.0,\n            \"price_per_night\": \"$40 - $60\",\n            \"duration\": \"3 nights\",\n            \"booking_link\": \"https://www.booking.com/hotel/tr/ankara-hotel.en-gb.html\"\n          },\n          {\n            \"name\": \"Hilton Garden Inn Ankara\",\n            \"address\": \"Tunalı Hilmi Cad. No: 123, 06420, Çankaya/Ankara, Turkey\",\n            \"image_url\": \"https://cf.bstatic.com/xdata/images/hotel/max1024x768/370554545.jpg\",\n            \"rating\": 4.5,\n            \"price_per_night\": \"$60 - $90\",\n            \"duration\": \"3 nights\",\n            \"booking_link\": \"https://www.booking.com/hotel/tr/hilton-garden-inn-ankara.en-gb.html\"\n          }\n        ],\n        \"restaurants\": [\n          {\n            \"name\": \"Çengelhan Rahmi Mutfak\",\n            \"cuisine\": \"Turkish\",\n            \"address\": \"Çengelhan, Sıhhıye Mahallesi, Anadolu Medeniyetleri Müzesi Sokak No: 24, 06420, Çankaya/Ankara, Turkey\",\n            \"price_range\": \"$10 - $20 per person\",\n            \"rating\": 4.5,\n            \"meal_types\": [\n              \"lunch\",\n              \"dinner\"\n            ]\n          },\n          {\n            \"name\": \"Dükkan Restaurant\",\n            \"cuisine\": \"Modern Turkish\",\n            \"address\": \"Gazi Mustafa Kemal Bulvarı No: 27, 06420, Çankaya/Ankara, Turkey\",\n            \"price_range\": \"$15 - $25 per person\",\n            \"rating\": 4.0,\n            \"meal_types\": [\n              \"dinner\"\n            ]\n          },\n          {\n            \"name\": \"Konak Restaurant\",\n            \"cuisine\": \"Turkish Breakfast\",\n            \"address\": \"Kuğulu Parkı, 06420, Çankaya/Ankara, Turkey\",\n            \"price_range\": \"$5 - $10 per person\",\n            \"rating\": 4.5,\n            \"meal_types\": [\n              \"breakfast\"\n            ]\n          }\n        ],\n        \"additional_recommendations\": [\n          \"Visit the Ethnographic Museum to learn about Turkish culture and traditions.\",\n          \"Take a day trip to the nearby city of Konya, known for its Sufi culture and the Mevlana Museum.\",\n          \"Explore the Beypazarı district, famous for its traditional houses and handicrafts.\"\n        ]\n      }\n    ],\n    \"transportation\": [\n      {\n        \"mode\": \"High-speed train\",\n        \"from\": \"Istanbul\",\n        \"to\": \"Ankara\",\n        \"price\": \"$30 - $50 per person\",\n        \"duration\": \"4 hours\",\n        \"link\": \"https://www.tcdd.gov.tr/en\"\n      }\n    ]\n  }\n}\n```\n\n**Please note:**\n\n* This is a suggested plan and you can customize it based on your preferences and budget.\n* Prices are approximate and can vary depending on the time of year and availability.\n* Booking links for accommodations are provided, and you can use these to check availability and book your stay.\n* You can find additional information on activities and transportation options by searching online or using apps like Google Maps, Tripadvisor, and Moovit.\n\n**Enjoy your trip!** \n" },
            ],
        },
    ],
});